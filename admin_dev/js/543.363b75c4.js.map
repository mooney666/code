{"version":3,"file":"js/543.363b75c4.js","mappings":"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","sources":["webpack://web_admin/./src/api/goods.js","webpack://web_admin/./src/views/goods/index.vue","webpack://web_admin/./src/views/goods/index.vue?63de"],"sourcesContent":["import { getHttp, postHttp, putHttp } from \"@/utils/http.js\";\r\n\r\n// 获取商品列表\r\nlet getGoodsList = (query,pagenum,pagesize) => getHttp(`goods?query=${query}&pagenum=${pagenum}&pagesize=${pagesize}`);\r\n// 获取商品分类列表\r\nlet goodsCateList = ()=> getHttp(`categories`);\r\n// 获取分类参数;\r\nlet getCateParams = (id,sel)=> getHttp(`categories/${id}/attributes?sel=${sel}`);\r\n// 上传商品图片\r\nlet uoloadGoodsImg = (data)=> postHttp(`upload`,data);\r\n\r\n// 添加商品\r\nlet addGoods = data =>postHttp(`goods`,data);\r\n// 编辑参数属性\r\nlet updataParams = (id,attrId,data)=> putHttp(`categories/${id}/attributes/${attrId}`,data);\r\n// 数据统计\r\nlet getData = ()=> getHttp('reports/type/1');\r\nexport {\r\n    getGoodsList,\r\n    goodsCateList,\r\n    getCateParams,\r\n    uoloadGoodsImg,\r\n    addGoods,\r\n    updataParams,\r\n    getData\r\n}","import { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, isRef as _isRef, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"seach\"\n};\nconst _hoisted_2 = {\n  class: \"search_input\"\n};\nconst _hoisted_3 = {\n  class: \"search_btn\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"添加商品\");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"编辑 \");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"删除 \");\n\nconst _hoisted_7 = {\n  class: \"pageation\"\n};\nimport myLoading from '@/tools/loading.js';\nimport showElmessage from '@/tools/showElmessage.js';\nimport { getGoodsList } from \"@/api/goods.js\";\nimport { useRouter } from 'vue-router';\nimport { useStore } from \"vuex\";\nimport { Search, Edit, Delete, Setting } from \"@element-plus/icons-vue\";\nimport { ref, nextTick } from \"vue\"; // 表格数据\n\nexport default {\n  setup(__props) {\n    let router = useRouter();\n    let store = useStore();\n    store.commit(\"changeNavList\", [\"商品管理\", \"商品列表\"]);\n    let tableData = ref([]); // 查询参数\n\n    let query = ref(\"\"); // 当前页面\n\n    let pagenum = ref(1); // 每页请求的条数\n\n    let pagesize = ref(10); //  商品总数\n\n    let total = ref(0); // ref属性\n\n    let mytable = ref(null); // 获取商品列表\n\n    let getDataList = async () => {\n      nextTick(() => {\n        myLoading.showLoading(mytable.value);\n      });\n      let res = await getGoodsList(query.value, pagenum.value, pagesize.value);\n      console.log(res);\n\n      if (res.data.meta.status == 200) {\n        total.value = res.data.data.total;\n        tableData.value = res.data.data.goods;\n      } else {\n        showElmessage(res.data.meta.msg, \"error\");\n      }\n\n      myLoading.hideLoading();\n    };\n\n    getDataList(); // 页码改变触发\n\n    let pageChange = value => {\n      pagenum.value = value;\n      getDataList();\n    }; //  大小改变触发\n\n\n    let sizeChange = value => {\n      pagesize.value = value;\n      getDataList();\n    };\n\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n\n      const _component_el_input = _resolveComponent(\"el-input\");\n\n      const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n      const _component_el_table = _resolveComponent(\"el-table\");\n\n      const _component_el_pagination = _resolveComponent(\"el-pagination\");\n\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_input, {\n        placeholder: \"请输入内容\",\n        modelValue: _unref(query),\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(query) ? query.value = $event : query = $event)\n      }, {\n        append: _withCtx(() => [_createVNode(_component_el_button, {\n          icon: _unref(Search),\n          onClick: _unref(getDataList)\n        }, null, 8, [\"icon\", \"onClick\"])]),\n        _: 1\n      }, 8, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: _cache[1] || (_cache[1] = $event => _unref(router).push({\n          path: '/addgoods'\n        }))\n      }, {\n        default: _withCtx(() => [_hoisted_4]),\n        _: 1\n      })])]), _createElementVNode(\"div\", {\n        class: \"table\",\n        ref_key: \"mytable\",\n        ref: mytable\n      }, [_createVNode(_component_el_table, {\n        data: _unref(tableData),\n        border: \"\",\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"goods_id\",\n          label: \"商品id\",\n          width: \"80\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"goods_name\",\n          label: \"商品名称\",\n          width: \"600px\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"goods_price\",\n          label: \"商品价格\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"goods_number\",\n          label: \"商品数量\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"goods_weight\",\n          label: \"商品重量\"\n        }), _createVNode(_component_el_table_column, {\n          label: \"操作\",\n          width: \"300\"\n        }, {\n          default: _withCtx(scope => [_createVNode(_component_el_button, {\n            type: \"primary\",\n            icon: _unref(Edit),\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [_hoisted_5]),\n            _: 1\n          }, 8, [\"icon\"]), _createVNode(_component_el_button, {\n            type: \"danger\",\n            icon: _unref(Delete),\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [_hoisted_6]),\n            _: 1\n          }, 8, [\"icon\"])]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"data\"])], 512), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_pagination, {\n        \"default-page-size\": _unref(pagesize),\n        \"page-sizes\": [10, 20, 30, 40, 50],\n        layout: \"total, sizes, prev, pager, next, jumper\",\n        total: _unref(total),\n        onCurrentChange: _unref(pageChange),\n        onSizeChange: _unref(sizeChange)\n      }, null, 8, [\"default-page-size\", \"total\", \"onCurrentChange\", \"onSizeChange\"])])]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["getGoodsList","query","pagenum","pagesize","getHttp","goodsCateList","getCateParams","id","sel","uoloadGoodsImg","data","postHttp","addGoods","updataParams","attrId","putHttp","getData","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","setup","__props","router","store","commit","tableData","total","mytable","getDataList","async","value","res","console","log","meta","status","goods","showElmessage","msg","pageChange","sizeChange","_ctx","_cache","_component_el_button","_component_el_input","_component_el_table_column","_component_el_table","_component_el_pagination","_","placeholder","modelValue","$event","append","icon","onClick","type","push","path","default","ref_key","ref","border","style","prop","label","width","scope","size","layout","onCurrentChange","onSizeChange","__exports__"],"sourceRoot":""}